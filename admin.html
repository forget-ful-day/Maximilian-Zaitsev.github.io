<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</title>
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
    <link rel="alternate icon" href="assets/icons/favicon.ico">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/themes.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #f8fafc;
            overflow-x: hidden;
        }

        .admin-wrapper {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: #1e293b;
            border-right: 1px solid #334155;
            padding: 2rem 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            padding: 0 1.5rem 2rem;
            border-bottom: 1px solid #334155;
            margin-bottom: 1.5rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #6366f1;
        }

        .user-card {
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
        }

        .user-info h4 {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .user-info p {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        .nav-menu {
            padding: 0 1rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.875rem 1rem;
            color: #cbd5e1;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .nav-item:hover {
            background: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }

        .nav-item.active {
            background: rgba(99, 102, 241, 0.2);
            color: #6366f1;
            font-weight: 600;
        }

        .nav-icon {
            font-size: 1.25rem;
            width: 24px;
            text-align: center;
        }

        .sidebar-footer {
            padding: 1.5rem;
            border-top: 1px solid #334155;
            margin-top: auto;
            position: absolute;
            bottom: 0;
            width: 100%;
            background: #1e293b;
        }

        .logout-btn {
            width: 100%;
            padding: 0.75rem;
            background: transparent;
            border: 1px solid #334155;
            color: #ef4444;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .logout-btn:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: #ef4444;
        }

        /* Main Content */
        .main-content {
            margin-left: 260px;
            flex: 1;
            padding: 2rem;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #334155;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
        }

        .page-subtitle {
            color: #94a3b8;
            margin-top: 0.5rem;
        }

        .header-actions {
            display: flex;
            gap: 0.75rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: #1e293b;
            color: #cbd5e1;
            border: 1px solid #334155;
        }

        .btn-secondary:hover {
            background: #334155;
        }

        /* Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: #1e293b;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #334155;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            border-color: #6366f1;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .stat-trend {
            font-size: 0.85rem;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-weight: 600;
        }

        .trend-up {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #94a3b8;
        }

        /* Content Sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-card {
            background: #1e293b;
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid #334155;
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: #f8fafc;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-weight: 600;
            font-size: 0.9rem;
            color: #cbd5e1;
        }

        .form-input {
            padding: 0.875rem;
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            color: #f8fafc;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .messages-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message-card {
            background: #0f172a;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #334155;
            transition: all 0.2s;
        }

        .message-card:hover {
            border-color: #6366f1;
        }

        .message-card.unread {
            border-left: 4px solid #6366f1;
            background: rgba(99, 102, 241, 0.05);
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .message-sender {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .message-email {
            color: #6366f1;
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }

        .message-date {
            color: #94a3b8;
            font-size: 0.85rem;
        }

        .message-text {
            color: #cbd5e1;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .message-actions {
            display: flex;
            gap: 0.75rem;
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .action-card {
            background: #1e293b;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #334155;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-card:hover {
            transform: translateY(-4px);
            border-color: #6366f1;
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.2);
        }

        .action-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .action-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .action-desc {
            font-size: 0.85rem;
            color: #94a3b8;
        }

        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="admin-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span>‚ö°</span>
                    <span>–ê–¥–º–∏–Ω</span>
                </div>
                <div class="user-card">
                    <div class="user-avatar">A</div>
                    <div class="user-info">
                        <h4>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h4>
                        <p>–í–ª–∞–¥–µ–ª–µ—Ü —Å–∞–π—Ç–∞</p>
                    </div>
                </div>
            </div>

            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>–î–∞—à–±–æ—Ä–¥</span>
                </a>
                <a href="#" class="nav-item" data-section="content">
                    <span class="nav-icon">‚úèÔ∏è</span>
                    <span>–ö–æ–Ω—Ç–µ–Ω—Ç</span>
                </a>
                <a href="#" class="nav-item" data-section="messages">
                    <span class="nav-icon">‚úâÔ∏è</span>
                    <span>–°–æ–æ–±—â–µ–Ω–∏—è</span>
                    <span id="unreadBadge" style="margin-left: auto; background: #6366f1; color: white; padding: 0.25rem 0.5rem; border-radius: 12px; font-size: 0.75rem; display: none;">0</span>
                </a>
                <a href="editor.html" class="nav-item">
                    <span class="nav-icon">üé®</span>
                    <span>–†–µ–¥–∞–∫—Ç–æ—Ä</span>
                </a>
                <a href="index.html" class="nav-item">
                    <span class="nav-icon">üëÅ</span>
                    <span>–°–∞–π—Ç</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <button class="logout-btn" onclick="logout()">üö™ –í—ã–π—Ç–∏</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <div>
                    <h1 class="page-title" id="pageTitle">–î–∞—à–±–æ—Ä–¥</h1>
                    <p class="page-subtitle" id="pageSubtitle">–û–±–∑–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                        üëÅ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                    </button>
                    <button class="btn btn-primary" onclick="saveAll()">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">üë•</div>
                            <span class="stat-trend trend-up">+12%</span>
                        </div>
                        <div class="stat-value" id="visitors">1,234</div>
                        <div class="stat-label">–ü–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ –∑–∞ –º–µ—Å—è—Ü</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">üì©</div>
                            <span class="stat-trend trend-up">+5</span>
                        </div>
                        <div class="stat-value" id="messages">24</div>
                        <div class="stat-label">–ù–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">üëÄ</div>
                            <span class="stat-trend trend-up">+23%</span>
                        </div>
                        <div class="stat-value" id="views">5,678</div>
                        <div class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">‚≠ê</div>
                            <span class="stat-trend">‚Äî</span>
                        </div>
                        <div class="stat-value">4.8<span style="font-size: 1.2rem; color: #94a3b8;">/5</span></div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                    </div>
                </div>

                <div class="section-card">
                    <h2 class="section-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                    <div class="quick-actions">
                        <div class="action-card" onclick="showSection('content')">
                            <div class="action-icon">‚úèÔ∏è</div>
                            <div class="action-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</div>
                            <div class="action-desc">–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç</div>
                        </div>
                        <div class="action-card" onclick="showSection('messages')">
                            <div class="action-icon">‚úâÔ∏è</div>
                            <div class="action-title">–°–æ–æ–±—â–µ–Ω–∏—è</div>
                            <div class="action-desc" id="newMessagesText">5 –Ω–æ–≤—ã—Ö</div>
                        </div>
                        <div class="action-card" onclick="window.location.href='editor.html'">
                            <div class="action-icon">üé®</div>
                            <div class="action-title">–†–µ–¥–∞–∫—Ç–æ—Ä</div>
                            <div class="action-desc">–î–∏–∑–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü</div>
                        </div>
                        <div class="action-card" onclick="exportData()">
                            <div class="action-icon">üì•</div>
                            <div class="action-title">–≠–∫—Å–ø–æ—Ä—Ç</div>
                            <div class="action-desc">–°–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Content Section -->
            <section id="content" class="content-section">
                <div class="section-card">
                    <h2 class="section-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è</label>
                            <input type="text" class="form-input" id="editName" placeholder="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤">
                        </div>
                        <div class="form-group">
                            <label class="form-label">–ü—Ä–æ—Ñ–µ—Å—Å–∏—è</label>
                            <input type="text" class="form-input" id="editProfession" placeholder="Fullstack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫">
                        </div>
                        <div class="form-group">
                            <label class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤</label>
                            <input type="number" class="form-input" id="editProjects" placeholder="12">
                        </div>
                        <div class="form-group">
                            <label class="form-label">–û–ø—ã—Ç (–ª–µ—Ç)</label>
                            <input type="text" class="form-input" id="editExperience" placeholder="3+">
                        </div>
                        <div class="form-group">
                            <label class="form-label">–ö–ª–∏–µ–Ω—Ç—ã</label>
                            <input type="number" class="form-input" id="editClients" placeholder="24">
                        </div>
                        <div class="form-group">
                            <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea class="form-input" id="editDescription" rows="4" placeholder="–û —Å–µ–±–µ..."></textarea>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem; display: flex; gap: 1rem;">
                        <button class="btn btn-primary" onclick="saveContent()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <button class="btn btn-secondary" onclick="loadContent()">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                    </div>
                </div>
            </section>

            <!-- Messages Section -->
            <section id="messages" class="content-section">
                <div class="section-card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2 class="section-title" style="margin: 0;">–°–æ–æ–±—â–µ–Ω–∏—è</h2>
                        <select class="form-input" id="messageFilter" style="width: auto;" onchange="filterMessages()">
                            <option value="all">–í—Å–µ</option>
                            <option value="unread">–ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ</option>
                            <option value="read">–ü—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ</option>
                        </select>
                    </div>
                    <div class="messages-list" id="messagesList">
                        <!-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        const ADMIN_PASSWORD = 'admin123';
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        if (!sessionStorage.getItem('adminLoggedIn')) {
            const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:');
            if (password !== ADMIN_PASSWORD) {
                alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
                window.location.href = 'index.html';
            } else {
                sessionStorage.setItem('adminLoggedIn', 'true');
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        document.querySelectorAll('.nav-item[data-section]').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const section = item.getAttribute('data-section');
                showSection(section);
                
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                item.classList.add('active');
            });
        });

        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            const section = document.getElementById(sectionId);
            if (section) {
                section.classList.add('active');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
                const titles = {
                    dashboard: { title: '–î–∞—à–±–æ—Ä–¥', subtitle: '–û–±–∑–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏' },
                    content: { title: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', subtitle: '–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–∞–π—Ç–∞' },
                    messages: { title: '–°–æ–æ–±—â–µ–Ω–∏—è', subtitle: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏' }
                };
                
                if (titles[sectionId]) {
                    document.getElementById('pageTitle').textContent = titles[sectionId].title;
                    document.getElementById('pageSubtitle').textContent = titles[sectionId].subtitle;
                }
                
                if (sectionId === 'messages') {
                    loadMessages();
                } else if (sectionId === 'content') {
                    loadContent();
                }
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        function loadData() {
            const data = JSON.parse(localStorage.getItem('siteData') || '{}');
            return data;
        }

        function saveData(data) {
            localStorage.setItem('siteData', JSON.stringify(data));
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        function updateStats() {
            const data = loadData();
            const stats = data.stats || {
                visitors: 1234,
                messages: 24,
                views: 5678
            };
            
            document.getElementById('visitors').textContent = stats.visitors.toLocaleString();
            document.getElementById('messages').textContent = stats.messages;
            document.getElementById('views').textContent = stats.views.toLocaleString();
        }

        // –ö–æ–Ω—Ç–µ–Ω—Ç
        function loadContent() {
            const data = loadData();
            const content = data.content || {};
            
            document.getElementById('editName').value = content.name || '';
            document.getElementById('editProfession').value = content.profession || '';
            document.getElementById('editProjects').value = content.projects || '';
            document.getElementById('editExperience').value = content.experience || '';
            document.getElementById('editClients').value = content.clients || '';
            document.getElementById('editDescription').value = content.description || '';
        }

        function saveContent() {
            const data = loadData();
            data.content = {
                name: document.getElementById('editName').value,
                profession: document.getElementById('editProfession').value,
                projects: document.getElementById('editProjects').value,
                experience: document.getElementById('editExperience').value,
                clients: document.getElementById('editClients').value,
                description: document.getElementById('editDescription').value
            };
            saveData(data);
            showNotification('–ö–æ–Ω—Ç–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
        }

        // –°–æ–æ–±—â–µ–Ω–∏—è
        function loadMessages() {
            const data = loadData();
            const messages = data.messages || [
                {
                    id: 1,
                    name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
                    email: 'anna@example.com',
                    message: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–µ–∫—Ç—É.',
                    date: new Date().toISOString(),
                    read: false
                }
            ];
            
            const filter = document.getElementById('messageFilter').value;
            let filtered = messages;
            
            if (filter === 'unread') {
                filtered = messages.filter(m => !m.read);
            } else if (filter === 'read') {
                filtered = messages.filter(m => m.read);
            }
            
            const unreadCount = messages.filter(m => !m.read).length;
            const badge = document.getElementById('unreadBadge');
            if (badge) {
                if (unreadCount > 0) {
                    badge.textContent = unreadCount;
                    badge.style.display = 'block';
                } else {
                    badge.style.display = 'none';
                }
            }
            
            document.getElementById('newMessagesText').textContent = `${unreadCount} –Ω–æ–≤—ã—Ö`;
            
            const list = document.getElementById('messagesList');
            if (filtered.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #94a3b8; padding: 2rem;">–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π</p>';
                return;
            }
            
            list.innerHTML = filtered.map(msg => `
                <div class="message-card ${msg.read ? '' : 'unread'}">
                    <div class="message-header">
                        <div>
                            <div class="message-sender">${msg.name}</div>
                            <div class="message-email">${msg.email}</div>
                        </div>
                        <div class="message-date">${formatDate(msg.date)}</div>
                    </div>
                    <div class="message-text">${msg.message}</div>
                    <div class="message-actions">
                        <button class="btn btn-sm btn-success" onclick="markRead(${msg.id})">‚úì –ü—Ä–æ—á–∏—Ç–∞–Ω–æ</button>
                        <button class="btn btn-sm btn-primary" onclick="replyMessage('${msg.email}')">üìß –û—Ç–≤–µ—Ç–∏—Ç—å</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteMessage(${msg.id})">üóë –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                </div>
            `).join('');
        }

        function filterMessages() {
            loadMessages();
        }

        function markRead(id) {
            const data = loadData();
            const msg = data.messages.find(m => m.id === id);
            if (msg) {
                msg.read = true;
                saveData(data);
                loadMessages();
                updateStats();
            }
        }

        function replyMessage(email) {
            window.open(`mailto:${email}?subject=–û—Ç–≤–µ—Ç —Å —Å–∞–π—Ç–∞-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ`);
        }

        function deleteMessage(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ?')) {
                const data = loadData();
                data.messages = data.messages.filter(m => m.id !== id);
                saveData(data);
                loadMessages();
                updateStats();
            }
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ru-RU', { 
                day: 'numeric', 
                month: 'long', 
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // –£—Ç–∏–ª–∏—Ç—ã
        function saveAll() {
            saveContent();
            showNotification('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
        }

        function exportData() {
            const data = loadData();
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `portfolio-backup-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            showNotification('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!', 'success');
        }

        function logout() {
            sessionStorage.removeItem('adminLoggedIn');
            window.location.href = 'index.html';
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#ef4444'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideIn 0.3s;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateStats();
        loadMessages();
    </script>
</body>
</html>

